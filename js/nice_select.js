function createNiceSelect(e){const t=document.createElement("div");t.className="nice-select"+(e.className?" "+e.className:""),e.disabled&&t.classList.add("disabled"),t.tabIndex=e.disabled?null:"0",t.innerHTML='<span class="current"></span><ul class="list"></ul>',e.style.display="none",e.after(t);const s=t.querySelector(".current"),c=t.querySelector(".list");Array.from(e.options).forEach((e=>{const t=document.createElement("li");t.className="option"+(e.selected?" selected":"")+(e.disabled?" disabled":""),t.dataset.value=e.value,t.dataset.display=e.getAttribute("data-display")||e.textContent,t.textContent=e.textContent,c.appendChild(t)})),s.textContent=e.options[e.selectedIndex]?.text||"";return t;}document.addEventListener("click",(function(e){const t=e.target;if(t.closest(".nice-select")){const e=t.closest(".nice-select");document.querySelectorAll(".nice-select").forEach((t=>{t!==e&&t.classList.remove("open")})),e.classList.toggle("open")}else document.querySelectorAll(".nice-select").forEach((e=>e.classList.remove("open")))})),document.addEventListener("click",(function(e){const t=e.target.closest(".nice-select .option:not(.disabled)");if(t){const e=t.closest(".nice-select"),s=e.querySelector(".selected");s&&s.classList.remove("selected"),t.classList.add("selected"),e.querySelector(".current").textContent=t.dataset.display||t.textContent;const c=e.previousElementSibling;c.value=t.dataset.value||"",c.dispatchEvent(new Event("change")),e.classList.remove("open")}})),document.addEventListener("keydown",(function(e){document.querySelectorAll(".nice-select").forEach((t=>{if(document.activeElement===t){const s=t.querySelector(".focus")||t.querySelector(".list .option.selected");if(32===e.keyCode||13===e.keyCode)t.classList.contains("open")?s?.click():t.click(),e.preventDefault();else if(40===e.keyCode){if(t.classList.contains("open")){let e=s?.nextElementSibling;for(;e&&e.classList.contains("disabled");)e=e.nextElementSibling;e&&(t.querySelector(".focus")?.classList.remove("focus"),e.classList.add("focus"))}else t.click();e.preventDefault()}else if(38===e.keyCode){if(t.classList.contains("open")){let e=s?.previousElementSibling;for(;e&&e.classList.contains("disabled");)e=e.previousElementSibling;e&&(t.querySelector(".focus")?.classList.remove("focus"),e.classList.add("focus"))}else t.click();e.preventDefault()}else 27===e.keyCode?t.classList.contains("open")&&t.click():9===e.keyCode&&t.classList.contains("open")&&e.preventDefault()}}))}));